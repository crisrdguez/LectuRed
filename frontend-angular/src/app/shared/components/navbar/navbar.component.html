<nav class="horizontal-navigation" >
    <div class="nav-opcion logo-container">
        <img src="../../../../assets/logoLectured.png" alt="logo proyecto" class="logo-pequeno">
    </div>
    <div class="nav-opcion logo-container">
        <button mat-button><a routerLink="/home">Home</a></button>
    </div>
    <div class="nav-opcion logo-container">
        <button mat-button [matMenuTriggerFor]="afterMenu">Categorías</button>
        <mat-menu #afterMenu="matMenu" xPosition="after">
          <button mat-menu-item class="item-categoria" *ngFor="let categoria of categorias"><a routerLink="/categorias/{{ categoria.url}}">{{ categoria.titulo }}</a></button>
        </mat-menu>
    </div>
    <div class="nav-opcion logo-container">
        <button mat-button><a routerLink="/actividad">Actividad</a></button>
    </div>
    <div class="nav-opcion logo-container">
        <button mat-button><a routerLink="/mislibros">Mis Libros</a></button>
    </div>
    <div class="nav-opcion logo-container">
        <button mat-button><a routerLink="/miactividad">Mi Actividad</a></button>
    </div>
    <div class="nav-opcion logo-container">
        <div class="container-form">
            <input class="input" type="text" placeholder="Buscar libros" [(ngModel)]='queryparams'>
            <button mat-button (click)="buscarLibros()">Buscar</button>
        </div>
    </div>   
    <div class="nav-opcion logo-container">
        <div class="container-icono">
            <button mat-icon-button [matMenuTriggerFor]="menuOptions">
                <ng-container *ngIf="estaLogueado()">
                    <div class="avatar-circle"><strong>{{ name?.charAt(0) | uppercase }}</strong></div>
                  </ng-container>
                  <ng-container *ngIf="!estaLogueado()">
                    <mat-icon>account_circle</mat-icon>
                  </ng-container>
            </button>
            <p class="logo-text">{{name}}</p>
        </div>
        <mat-menu #menuOptions="matMenu">
            <ng-container *ngIf="!estaLogueado(); else noLogin">
              <button mat-menu-item class="item-categoria"><a href="http://127.0.0.1:8000/login" (click)="extraerId()">Iniciar sesión</a></button>
              <button mat-menu-item class="item-categoria"><a href="http://127.0.0.1:8000/register">Registrarse</a></button>
            </ng-container>
            <ng-template #noLogin>
              <button mat-menu-item class="item-categoria"><a href="http://127.0.0.1:8000/profile">Perfil</a></button>
              <button mat-menu-item class="item-categoria"><a (click)="logout()">Cerrar sesión</a></button>
            </ng-template>
          </mat-menu>
        <!--
        <button mat-button><a routerLink="/auth/login">Login</a></button>
        -->
    </div>
</nav>
<p></p>